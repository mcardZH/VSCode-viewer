!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("molstar")):"function"==typeof define&&define.amd?define(["molstar"],r):"object"==typeof exports?exports.MolstarPlugin=r(require("molstar")):e.MolstarPlugin=r(e.molstar)}(this,e=>(()=>{"use strict";var r={264:r=>{r.exports=e}},o={};function t(e){var i=o[e];if(void 0!==i)return i.exports;var a=o[e]={exports:{}};return r[e](a,a.exports,t),a.exports}t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};t.r(i),t.d(i,{MolstarViewer:()=>l,createViewer:()=>p,getParam:()=>n,molstar:()=>a,parseUrlConfig:()=>s});var a=t(264);const d=e=>({current:e}),l=({id:e="molstar-viewer",className:r,style:o,layoutShowControls:t=!0,viewportShowExpand:i=!1,collapseLeftPanel:a=!1,pdbProvider:l="pdbe",emdbProvider:n="pdbe",volumeStreamingServer:s,pixelScale:p=1,pickScale:c=.25,pickPadding:m=1,enableWboit:u,preferWebgl1:b,debugMode:v=!1,snapshotId:w,snapshotUrl:f,snapshotUrlType:h="molj",structureUrl:y,structureUrlFormat:g,structureUrlIsBinary:S=!1,pdb:P,pdbDev:x,emdb:U,modelArchive:k,loadCommand:C,onViewerReady:M,onError:j})=>{const F=d(null),L=(d(null),{position:"absolute",left:"100px",top:"100px",width:"800px",height:"600px",...o});return"undefined"==typeof window||window.React?{type:"div",props:(I={id:e,ref:F,className:r,style:L})||{},key:I?.key||null,ref:I?.ref||null}:(console.warn("MolstarViewer: React component used in non-React environment. Use MolstarPlugin.createViewer() instead."),null);var I};function n(e,r){const o=new RegExp(e+"=("+r+")[&]?","i");return decodeURIComponent(((window.location.search||"").match(o)||[])[1]||"")}function s(){return{debugMode:"1"===n("debug-mode","[^&]+").trim(),hideControls:"1"===n("hide-controls","[^&]+").trim(),collapseLeftPanel:"1"===n("collapse-left-panel","[^&]+").trim(),pdbProvider:n("pdb-provider","[^&]+").trim().toLowerCase()||void 0,emdbProvider:n("emdb-provider","[^&]+").trim().toLowerCase()||void 0,mapProvider:n("map-provider","[^&]+").trim().toLowerCase()||void 0,pixelScale:parseFloat(n("pixel-scale","[^&]+").trim())||void 0,pickScale:parseFloat(n("pick-scale","[^&]+").trim())||void 0,pickPadding:(()=>{const e=parseFloat(n("pick-padding","[^&]+").trim());return isNaN(e)?void 0:e})(),disableWboit:"1"===n("disable-wboit","[^&]+").trim(),preferWebgl1:"1"===n("prefer-webgl1","[^&]+").trim()||void 0,snapshotId:n("snapshot-id","[^&]+").trim()||void 0,snapshotUrl:n("snapshot-url","[^&]+").trim()||void 0,snapshotUrlType:n("snapshot-url-type","[^&]+").toLowerCase().trim()||void 0,structureUrl:n("structure-url","[^&]+").trim()||void 0,structureUrlFormat:n("structure-url-format","[a-z]+").toLowerCase().trim()||void 0,structureUrlIsBinary:"1"===n("structure-url-is-binary","[^&]+").trim(),pdb:n("pdb","[^&]+").trim()||void 0,pdbDev:n("pdb-dev","[^&]+").trim()||void 0,emdb:n("emdb","[^&]+").trim()||void 0,modelArchive:n("model-archive","[^&]+").trim()||void 0}}async function p(e){const{elementId:r,layoutShowControls:o=!0,viewportShowExpand:t=!1,collapseLeftPanel:i=!1,pdbProvider:a="pdbe",emdbProvider:d="pdbe",volumeStreamingServer:l,pixelScale:n=1,pickScale:s=.25,pickPadding:p=1,enableWboit:c,preferWebgl1:m,debugMode:u=!1,snapshotId:b,snapshotUrl:v,snapshotUrlType:w="molj",structureUrl:f,structureUrlFormat:h,structureUrlIsBinary:y=!1,pdb:g,pdbDev:S,emdb:P,modelArchive:x,loadCommand:U}=e;u&&window.molstar.setDebugMode(u,u);const k=l||("rcsb"===(a||"pdbe")?"https://maps.rcsb.org":"https://www.ebi.ac.uk/pdbe/densities"),C=await window.molstar.Viewer.create(r,{layoutShowControls:o,viewportShowExpand:t,collapseLeftPanel:i,pdbProvider:a,emdbProvider:d,volumeStreamingServer:k,pixelScale:n,pickScale:s,pickPadding:isNaN(p)?1:p,enableWboit:!!c||void 0,preferWebgl1:m});if(b&&await C.setRemoteSnapshot(b),v&&w&&await C.loadSnapshotFromUrl(v,w),f&&await C.loadStructureFromUrl(f,h,y),g&&await C.loadPdb(g),S&&await C.loadPdbDev(S),P&&await C.loadEmdb(P),x&&await C.loadModelArchive(x),U)try{new Function("viewer",U)(C)}catch(e){console.warn("Error executing load command:",e)}return C}return i})());
//# sourceMappingURL=index.js.map